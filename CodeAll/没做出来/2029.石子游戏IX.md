# 2029.石子游戏IX

### 题目描述

Alice 和 Bob 再次设计了一款新的石子游戏。现有一行 n 个石子，每个石子都有一个关联的数字表示它的价值。给你一个整数数组 `stones` ，其中 `stones[i]` 是第 `i` 个石子的价值。Alice 和 Bob 轮流进行自己的回合，**Alice** 先手。每一回合，玩家需要从 `stones` 中移除任一石子。

- 如果玩家移除石子后，导致 **所有已移除石子** 的价值 **总和** 可以被 3 整除，那么该玩家就 **输掉游戏** 。
- 如果不满足上一条，且移除后没有任何剩余的石子，那么 Bob 将会直接获胜（即便是在 Alice 的回合）。

假设两位玩家均采用 **最佳** 决策。如果 Alice 获胜，返回 `true` ；如果 Bob 获胜，返回 `false` 。

### 我的解答

- 又是博弈论，而且数组长度为$10^5$,看提示可以把所有石头变成0,1,2, 因输赢条件只和数组取完或者和是否为3的倍数有关
- 不会

### 官方解答

- 移除类型 0 的石子并不会对总和产生影响，因此类型 0的石子可以看成是「先后手」交换。
- 具体地，例如当前是 Alice 在进行操作，它发现如果自己选择移除类型 1 或 2 的石子，那么她在最后一定不能获胜。这时它就可以选择移除一个类型 0 的石子，将同样的局面交给 Bob。如果类型 0 的石子还没有移除完，那么 Bob 同样可以通过移除一个类型 0 的石子将局面重新交给 Alice。这样不断地往复下去，我们可以得到结论：
  - 如果类型 0 的石子的个数为**偶数**，那么胜负情况等价于没有类型 0 的石子的胜负情况；
  - 如果类型 0 的石子个数为**奇数**，那么胜负情况等价于只有 1 个类型 0 的石子的胜负情况。注意这里不能单纯地等价于「没有类型 0 的石子的胜负情况」的相反情况，这是因为如果所有的石子都被移除完，无论谁移除了最后一个石子，都算 Alice 输。因此如果 Alice 发现自己选择移除类型 1 或 2 的石子不能获胜，于是选择移除类型 0 的石子，并且它不能获胜的原因是「石子会移除完」，那么 Alice 仍然会输。
- [【宫水三叶】分情况讨论博弈题 - 石子游戏 IX - 力扣（LeetCode） (leetcode-cn.com)](https://leetcode-cn.com/problems/stone-game-ix/solution/gong-shui-san-xie-fen-qing-kuang-tao-lun-h1oa/)